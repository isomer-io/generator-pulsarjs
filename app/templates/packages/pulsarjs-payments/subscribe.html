<template name="subscribe">
    <h2>
        Subscriptions
    </h2>
    <div class="well">

    <div class="row">
        {{#each plans}}

            <div class="col-offset-md-2 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <h3 class="text-center">
                            {{this.id}}
                        </h3>
                        <h6>
                            {{this.statement_descriptor}}
                        </h6>
                        {{#if userIsSubscribed id}}
                            {{>unsubscribeButtonTemplate}}
                        {{else}}
                            {{#unless userHasSubscription}}
                              {{>subscribeButtonTemplate}}
                            {{else}}
                              <div class="alert alert-info" role="alert">You can only subscripe to one plan at a time</div>
                            {{/unless}}
                        {{/if}}
                    </div>
                </div>
            </div>





        {{/each}}
    </div>


    <div class="row">
        {{#if stripeErr}}
            <div class="col-md-offset-4 col-md-4" >
                <div class="alert alert-danger" role="alert">Error: {{stripeErr.msg}}</div>
            </div>
        {{/if}}

        {{#if stripeSubscriptionData}}
            <div class="col-md-offset-4 col-md-4">
                <div class="alert alert-success text-center" role="alert">Subscription successful</div>
            </div>
        {{/if}}

        {{#if stripeUnsubscriptionData}}
            <div class="col-md-offset-4 col-md-4">
                <div class="alert alert-success text-center" role="alert">Subscription successful</div>
            </div>
        {{/if}}
    </div>
    </div>
</template>
