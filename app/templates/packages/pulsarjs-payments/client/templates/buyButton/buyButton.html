<template name="buyButton">
    <div class="row">
        <div class="col-md-12">

            <div class="row">
                <div class="col-md-12" style="margin-bottom: 0.5%;">
                    {{#if stripeClientId}}
                        {{#if itemHasMerchant}}
                            {{#if canBuy}}
                                <a id="payForItemButton" type="button" class="btn btn-block btn-warning">
                                    <strong> Buy for ${{this.price}}</strong>
                                </a>
                            {{/if}}
                            {{#unless canBuy}}
                                {{#unless isSeller}}
                                <a type="button" class="btn btn-block btn-warning disabled">
                                    You have purchased this already.
                                </a>
                                {{/unless}}
                                {{#if isSeller}}
                                    <a type="button" class="btn btn-block btn-warning disabled">
                                        You cannot purchase your own item.
                                    </a>
                                {{/if}}
                            {{/unless}}
                        {{else}}
                            <div class="alert alert-info text-center" role="alert">Merchant has no connected stripe account</div>
                        {{/if}}
                    {{else}}
                        <a href="/admin/config" class="btn btn-info btn-block">Configure stripe API details</a>
                    {{/if}}
                </div>
            </div>
        </div>
        {{#if stripeErr}}
            <div class="col-md-12" >
                <div class="alert alert-danger" role="alert">Stripe had an error: {{stripeErr.message}}</div>
            </div>
        {{/if}}

        {{#if stripeData}}
            <div class="col-md-12">
                <div class="alert alert-success text-center" role="alert">Payment was successful</div>
            </div>
        {{/if}}
    </div>
</template>